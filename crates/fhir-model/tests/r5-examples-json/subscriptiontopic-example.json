{
  "resourceType": "SubscriptionTopic",
  "id": "example",
  "text": {
    "status": "generated",
    "div": "\u003cdiv xmlns\u003d\"http://www.w3.org/1999/xhtml\"\u003e\u003cp\u003e\u003cb\u003eGenerated Narrative: SubscriptionTopic\u003c/b\u003e\u003ca name\u003d\"example\"\u003e \u003c/a\u003e\u003c/p\u003e\u003cdiv style\u003d\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"\u003e\u003cp style\u003d\"margin-bottom: 0px\"\u003eResource SubscriptionTopic \u0026quot;example\u0026quot; \u003c/p\u003e\u003c/div\u003e\u003cp\u003e\u003cb\u003eurl\u003c/b\u003e: \u003ccode\u003ehttp://example.org/FHIR/R5/SubscriptionTopic/example\u003c/code\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003eidentifier\u003c/b\u003e: id:Â urn:uuid:1caa02ba-051b-4602-8856-65921748ae76\u003c/p\u003e\u003cp\u003e\u003cb\u003eversion\u003c/b\u003e: 1.0.0-beta.1\u003c/p\u003e\u003cp\u003e\u003cb\u003etitle\u003c/b\u003e: example\u003c/p\u003e\u003cp\u003e\u003cb\u003estatus\u003c/b\u003e: draft\u003c/p\u003e\u003cp\u003e\u003cb\u003edate\u003c/b\u003e: 2019-01-01\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Example topic for completed encounters\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eresourceTrigger\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: An Encounter has been completed\u003c/p\u003e\u003cp\u003e\u003cb\u003eresource\u003c/b\u003e: \u003ca href\u003d\"encounter.html\"\u003eEncounter\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003esupportedInteraction\u003c/b\u003e: update\u003c/p\u003e\u003ch3\u003eQueryCriteria\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003ePrevious\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResultForCreate\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eCurrent\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResultForDelete\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eRequireBoth\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003estatus:not\u003dcompleted\u003c/td\u003e\u003ctd\u003etest-passes\u003c/td\u003e\u003ctd\u003estatus\u003dcompleted\u003c/td\u003e\u003ctd\u003etest-fails\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003cp\u003e\u003cb\u003efhirPathCriteria\u003c/b\u003e: (%previous.empty() | (%previous.status !\u003d \u0027completed\u0027)) and (%current.status \u003d \u0027completed\u0027)\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003ecanFilterBy\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Filter based on the subject of an encounter.\u003c/p\u003e\u003cp\u003e\u003cb\u003eresource\u003c/b\u003e: \u003ca href\u003d\"encounter.html\"\u003eEncounter\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003efilterParameter\u003c/b\u003e: subject\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003ecanFilterBy\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Filter based on the group membership of the subject of an encounter.\u003c/p\u003e\u003cp\u003e\u003cb\u003eresource\u003c/b\u003e: \u003ca href\u003d\"encounter.html\"\u003eEncounter\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003efilterParameter\u003c/b\u003e: _in\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003ecanFilterBy\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Filter based on the length of an encounter.\u003c/p\u003e\u003cp\u003e\u003cb\u003eresource\u003c/b\u003e: \u003ca href\u003d\"encounter.html\"\u003eEncounter\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003efilterParameter\u003c/b\u003e: length\u003c/p\u003e\u003cp\u003e\u003cb\u003ecomparator\u003c/b\u003e: gt, lt, ge, le\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003ecanFilterBy\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Filter based on the account for billing an encounter.\u003c/p\u003e\u003cp\u003e\u003cb\u003eresource\u003c/b\u003e: \u003ca href\u003d\"encounter.html\"\u003eEncounter\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003efilterParameter\u003c/b\u003e: account\u003c/p\u003e\u003cp\u003e\u003cb\u003emodifier\u003c/b\u003e: missing, not, identifier\u003c/p\u003e\u003c/blockquote\u003e\u003ch3\u003eNotificationShapes\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eInclude\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"encounter.html\"\u003eEncounter\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eEncounter:patient\u0026amp;iterate\u003dPatient.link, Encounter:practitioner, Encounter:service-provider, Encounter:account, Encounter:diagnosis, Encounter:observation, Encounter:location\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/div\u003e"
  },
  "url": "http://example.org/FHIR/R5/SubscriptionTopic/example",
  "identifier": [
    {
      "system": "urn:ietf:rfc:3986",
      "value": "urn:uuid:1caa02ba-051b-4602-8856-65921748ae76"
    }
  ],
  "version": "1.0.0-beta.1",
  "title": "example",
  "status": "draft",
  "date": "2019-01-01",
  "description": "Example topic for completed encounters",
  "resourceTrigger": [
    {
      "description": "An Encounter has been completed",
      "resource": "http://hl7.org/fhir/StructureDefinition/Encounter",
      "supportedInteraction": [
        "update"
      ],
      "queryCriteria": {
        "previous": "status:not\u003dcompleted",
        "resultForCreate": "test-passes",
        "current": "status\u003dcompleted",
        "resultForDelete": "test-fails",
        "requireBoth": true
      },
      "fhirPathCriteria": "(%previous.empty() | (%previous.status !\u003d \u0027completed\u0027)) and (%current.status \u003d \u0027completed\u0027)"
    }
  ],
  "canFilterBy": [
    {
      "description": "Filter based on the subject of an encounter.",
      "resource": "Encounter",
      "filterParameter": "subject"
    },
    {
      "description": "Filter based on the group membership of the subject of an encounter.",
      "resource": "Encounter",
      "filterParameter": "_in"
    },
    {
      "description": "Filter based on the length of an encounter.",
      "resource": "Encounter",
      "filterParameter": "length",
      "comparator": [
        "gt",
        "lt",
        "ge",
        "le"
      ]
    },
    {
      "description": "Filter based on the account for billing an encounter.",
      "resource": "Encounter",
      "filterParameter": "account",
      "modifier": [
        "missing",
        "not",
        "identifier"
      ]
    }
  ],
  "notificationShape": [
    {
      "resource": "Encounter",
      "include": [
        "Encounter:patient\u0026iterate\u003dPatient.link",
        "Encounter:practitioner",
        "Encounter:service-provider",
        "Encounter:account",
        "Encounter:diagnosis",
        "Encounter:observation",
        "Encounter:location"
      ]
    }
  ]
}